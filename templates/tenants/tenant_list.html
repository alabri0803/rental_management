{% extends "base.html" %}
{% load i18n %}
{% block title %}{% trans "قائمة المستأجرين" %}{% endblock %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
  <h2>
    {% trans "قائمة المستأجرين" %}
  </h2>
  <form method="post" action="{% url 'set_language' %}" class="d-inline">
    {% csrf_token %}
    <input name="next" type="hidden" value="{{ request.path }}">
    {% if LANGUAGE_CODE == 'ar' %}
      <button name="language" value="en" class="btn btn-sm btn-light">{% trans "English" %}</button>
      {% else %}
      <button name="language" value="ar" class="btn btn-sm btn-light">{% trans "العربية" %}</button>
    {% endif %}
  </form>
</div>
<a href="{% url 'tenants:add' %}" class="btn btn-primary mb-3">
  {% trans "إضافة مستأجر جديد" %}
</a>
<table class="table table-bordered table-striped align-middle text-center">
  <thead class="table-light">
    <tr>
      <th>{% trans "الاسم الكامل" %}</th>
      <th>{% trans "رقم المدني" %}</th>
      <th>{% trans "الهاتف" %}</th>
      <th>{% trans "الحالة" %}</th>
      <th>{% trans "الإجراءات" %}</th>
    </tr>
  </thead>
  <tbody>
    {% for tenant in tenants %}
    <tr>
      <td>{{ tenant.full_name }}</td>
      <td>{{ tenant.national_id }}</td>
      <td>{{ tenant.phone }}</td>
      <td>
        <span class="badge {% if tenant.status == 'AC' %}bg-success
          {% elif tenant.status == 'LT' %}bg-warning
          {% else %}bg-secondary{% endif %}">
          {{ tenant.get_status_display }}
        </span>
      </td>
      <td>
        <a href="{% url 'tenants:detail' tenant.pk %}" class="btn btn-secondary btn-sm">{% trans "عرض" %}</a>
        <a href="{% url 'tenants:edit' tenant.pk %}" class="btn btn-primary btn-sm">{% trans "تعديل" %}</a>
      </td>
    </tr>
    {% empty %}
    <tr>
      <td colspan="6" class="text-center">{% trans "لا توجد مستأجرين حالياً" %}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}