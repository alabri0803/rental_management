{% extends "base.html" %}
{% load i18n %}
{% block title %}{% trans "لوحة التحكم" %}{% endblock %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
  <h2>{% trans "لوحة التحكم" %}</h2>
  <form method="post" action="{% url 'set_language' %}" class="d-inline">
    {% csrf_token %}
    <input name="next" type="hidden" value="{{ request.path }}">
    {% if LANGUAGE_CODE == 'ar' %}
      <button name="language" value="en" class="btn btn-sm btn-light">{% trans "English" %}</button>
      {% else %}
      <button name="language" value="ar" class="btn btn-sm btn-light">{% trans "العربية" %}</button>
    {% endif %}
  </form>
</div>
<div class="row text-center">
  <div class="col-md-3">
    <div class="card bg-light border-success mb-3">
      <div class="card-body">
        <h5 class="card-title">{% trans "العقود" %}</h5>
        <p class="card-text">{{ contract_count }}</p>
      </div>
    </div>
  </div>
  <div class="col-md-3">
    <div class="card bg-light border-danger mb-3">
      <div class="card-body">
        <h5 class="card-title">{% trans "المستأجرين" %}</h5>
        <p class="card-text">{{ tenant_count }}</p>
      </div>
    </div>
  </div>
  <div class="col-md-3">
    <div class="card bg-light border-warning mb-3">
      <div class="card-body">
        <h5 class="card-title">{% trans "الوحدات العقارية" %}</h5>
        <p class="card-text">{% trans "الإجمالي" %}: {{ units_total }}<br>{% trans "مشغولة" %}: {{ units_occupied }}</p>
      </div>
    </div>
  </div>
  <div class="col-md-3">
    <div class="card bg-light border-primary mb-3">
      <div class="card-body">
        <h5 class="card-title">{% trans "الإيرادات" %}</h5>
        <p class="card-text">{{ total_paid }} {% trans "ر.ع" %}</p>
      </div>
    </div>
  </div>
</div>
{% endblock %}